<!DOCTYPE html>
<html>
<head>
	<title>Slide Navbar</title>
	<link rel="stylesheet" type="text/css" href="./style.css">
<link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.27.2/axios.min.js"></script>
</head>
<body>
	<div class="main">  	
		<input type="checkbox" id="chk" aria-hidden="true">

			<div class="signup">
				<form id  = 'sign-up'>
					<label for="chk" aria-hidden="true">Sign up</label>
					<input type="text" name="txt" id = 'name' placeholder="Name" required="">
					<input type="email" name="email" id = 'email' placeholder="Email" required="">
					<input type="password" name="pswd" id = 'phone' placeholder="Phone" required="">
                    <input type="password" name="pswd" id = 'password' placeholder="Password" required="">
					<button >Sign up</button>
				</form>
			</div>

		   
	</div>
    <script >


const submit=document.getElementById('sign-up')
    submit.addEventListener('click',(e)=>{
      e.preventDefault()
  
      const name=document.getElementById('name').value
      const email=document.getElementById('email').value
      const phone=document.getElementById('phone').value
      const password=document.getElementById('password').value
      const signUpDetails={
        name:name,
        email:email,
        phone:phone,
        password:password

      }
      axios.post('http://localhost:4000/register',signUpDetails)
        .then(response=>{
          console.log("logged In",response);
          if(response.data.isSucces===false){
            alert(`${response.data.email} ${response.data.message}, Please Login`)
          }
          if(response.data.isSucces){
            alert(`${response.data.user.email} ${response.data.message}`);
            // window.location.href='./login.html'
          }
        })
        .catch(err=>{
          console.log(err);
        })

    })
    </script>
</body>
</html>